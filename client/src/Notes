class ExpensesController < ApplicationController
    before_action :authorized

    def index
        user = User.find_by(id: session[:user_id])
        if params[:car_id]
            car = user.cars.find(params[:car_id])
            expenses = car.expenses.where(user_id: user.id)
            
        else
            # this isnt getting hit can you not include cars here
            byebug
            expenses = user.expenses
        end
        render json: expenses                                               <------------------------dry you code
    end